{{ 'section-breadcrumb.css' | asset_url | stylesheet_tag }}

{%- unless template == 'index' or template == 'cart' or template == 'list-collections' or template == '404' -%}
  {%- assign t = template | split: '.' | first -%}
  <div class="breadcrumb_section">
    {%- case t -%}
          {%- when 'product' -%}
          <a href="{{ shop.url }}" title="{{ 'general.breadcrumb.home_page_link' | t }}">{{- 'general.breadcrumb.home_page' | t -}}</a>
          <span aria-hidden="true"> / </span>
          {% if collection and collection.handle %}            
          <span aria-hidden="true"> / </span>
          {% capture url %}{{ routes.collections_url }}{{ collection.handle }}{% endcapture %}
          {{ collection.title | link_to: url }}
          {% else %}
          {% capture url %}{{ routes.all_products_collection_url }}{% endcapture %}
          <a href="{{ url }}">{{ 'general.breadcrumb.all' | t }}</a>
          {% endif %}
          
          <span aria-hidden="true"> / </span>
          <span>{{ product.title }}</span>

          {%- when 'collection' -%}
          <a href="{{ shop.url }}" title="{{ 'general.breadcrumb.home_page_link' | t }}">{{- 'general.breadcrumb.home_page_link' | t -}}</a>
          <span aria-hidden="true"> / </span>
          <a href="{{ url }}">{{ 'general.breadcrumb.all' | t }}</a>
          <span aria-hidden="true"> / </span>
          {% if current_tags %}
          {% capture url %}{{ routes.collections_url }}{{ collection.handle }}{% endcapture %}
          {{ collection.title | link_to: url }}
          <span aria-hidden="true"> / </span>
          <span>{{ current_tags | join: ' + ' }}</span>
          {% else %}
          <span>{{ collection.title }}</span>
          {% endif %}
            
          {%- when 'blog' -%}
          <a href="{{ shop.url }}" title="{{ 'general.breadcrumb.home_page_link' | t }}">{{- 'general.breadcrumb.home_page' | t -}}</a>
          <span aria-hidden="true"> / </span>
          {%- if current_tags -%}
          {{ blog.title | link_to: blog.url }}
          {%- capture tag_url -%}{{blog.url}}/tagged/{{ current_tags | join: "+" }}{%- endcapture -%}
          <a class="breadcrumbs__link" href="{{ tag_url }}" aria-current="page">{{ current_tags | join: " + " }}</a>
          {%- else -%}
          <a class="breadcrumbs__link" href="{{ blog.url }}" aria-current="page">{{ blog.title }}</a>
          {%- endif -%}
          
          {%- when 'article' -%}
          <a href="{{ shop.url }}" title="{{ 'general.breadcrumb.home_page_link' | t }}">{{- 'general.breadcrumb.home_page' | t -}}</a>
          <span aria-hidden="true"> / </span>
          {{ blog.title | link_to: blog.url }}
          <span aria-hidden="true"> / </span>
          <span class="breadcrumbs__link" aria-current="page">{{ article.title }}</span>           
          {%- else -%}
          <a class="breadcrumbs__link" href="{{ request.path }}" aria-current="page">{{ page_title }}</a>
    {%- endcase -%}
  </div>
{%- endunless -%}