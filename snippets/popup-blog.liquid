
  <style>
    .custom-popup-overlay {
      position: fixed;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      background: rgba(0,0,0,0.8);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 9999;
      visibility: hidden;
      opacity: 0;
      transition: opacity 0.3s ease;
    }

    .custom-popup-overlay.active {
      visibility: visible;
      opacity: 1;
    }

    .custom-popup-content {
      border-radius: 3px;
    text-align: center;
    max-width: 800px;
    /* box-shadow: 0 0 15px rgba(0, 0, 0, 0.2); */
    position: relative;
    }

    .custom-popup-content img {
      max-width: 100%;
      border-radius: 8px;
      cursor: pointer;
      padding: 0 10px;
    }

    .custom-popup-title {
      font-size: 20px;
      font-weight: bold;
      margin-top: 15px;
    }

    .custom-popup-close {
      position: absolute;
      top: 0px;
      right: 20px;
      font-size: 30px;
      color: #fff;
      cursor: pointer;
      font-weight: 600;
    }
  </style>

 <div class="custom-popup-overlay" id="blogPopup">
  <div class="custom-popup-content">
    <div class="custom-popup-close" id="popupCloseBtn">Ã—</div>
    {% if block.settings.blog-image %}
      <a href="/collections/all" id="popupImageLink">
        <img 
          src="{{ block.settings.blog-image | image_url: width: 1200 }}" 
          alt="{{ block.settings.blog-image.alt | escape }}" 
          loading="lazy"
          width="100%"
          height="100%"
          style="height: auto;">
      </a>
    {% endif %}
  </div>
</div>


 <script>
  document.addEventListener("DOMContentLoaded", function () {
    const popup = document.getElementById("blogPopup");
    const closeBtn = document.getElementById("popupCloseBtn");

    if (!sessionStorage.getItem("popupDismissed")) {
      setTimeout(function () {
        popup.classList.add("active");
      }, 3000);
    }

    closeBtn.addEventListener("click", function () {
      popup.classList.remove("active");
      sessionStorage.setItem("popupDismissed", "true");
    });

    document.getElementById("popupImageLink").addEventListener("click", function () {
      sessionStorage.setItem("popupDismissed", "true");
    });

    // Optional: Dismiss if clicking outside popup
    popup.addEventListener("click", function (e) {
      if (e.target.id === "blogPopup") {
        popup.classList.remove("active");
        sessionStorage.setItem("popupDismissed", "true");
      }
    });
  });
</script>


